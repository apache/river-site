<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Sun Nov 10 23:24:00 EST 2013 -->
<title>AggregatePolicyProvider (Apache River v2.2.2 API Documentation)</title>
<meta name="date" content="2013-11-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AggregatePolicyProvider (Apache River v2.2.2 API Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AggregatePolicyProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/sun/jini/start/ActivateWrapper.ActivateDesc.html" title="class in com.sun.jini.start"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/sun/jini/start/ClassLoaderUtil.html" title="class in com.sun.jini.start"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/sun/jini/start/AggregatePolicyProvider.html" target="_top">Frames</a></li>
<li><a href="AggregatePolicyProvider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.security.Policy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.security.Policy">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.sun.jini.start</div>
<h2 title="Class AggregatePolicyProvider" class="title">Class AggregatePolicyProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">java.security.Policy</a></li>
<li>
<ul class="inheritance">
<li>com.sun.jini.start.AggregatePolicyProvider</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy">DynamicPolicy</a>, <a href="../../../../net/jini/security/policy/SecurityContextSource.html" title="interface in net.jini.security.policy">SecurityContextSource</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">AggregatePolicyProvider</span>
extends <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>
implements <a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy">DynamicPolicy</a>, <a href="../../../../net/jini/security/policy/SecurityContextSource.html" title="interface in net.jini.security.policy">SecurityContextSource</a></pre>
<div class="block">Security policy provider which supports associating security sub-policies
 with context class loaders.  Permission queries and grants (if supported),
 as well as <code>implies</code> and <code>refresh</code> operations are
 delegated to the currently active sub-policy.
 <p>
 The currently active sub-policy is determined as follows: if the current
 thread does not override the <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Thread.html?is-external=true#getContextClassLoader()" title="class or interface in java.lang"><code>getContextClassLoader</code></a> method, then that method is called to obtain the
 context class loader.  If the context class loader is associated with a
 sub-policy (via a previous call to <code>setPolicy</code>), then that
 sub-policy is the currently active sub-policy.  If no such association
 exists, then the same check is performed on each non-<code>null</code>
 parent of the context class loader, proceeding up the chain of class loader
 delegation, until a sub-policy association is found, in which case the
 associated sub-policy is the currently active sub-policy.  If no sub-policy
 association is found for the context class loader or any of its parents,
 then a fallback sub-policy, the main policy, is the currently active
 sub-policy.  Also, if the current thread overrides the
 <code>getContextClassLoader</code> method, then
 <code>getContextClassLoader</code> is not called and the main policy is the
 currently active sub-policy.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Sun Microsystems, Inc.</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_java.security.Policy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.security.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.Parameters.html?is-external=true" title="class or interface in java.security">Policy.Parameters</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.security.Policy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.security.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#UNSUPPORTED_EMPTY_COLLECTION" title="class or interface in java.security">UNSUPPORTED_EMPTY_COLLECTION</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#AggregatePolicyProvider()">AggregatePolicyProvider</a></strong>()</code>
<div class="block">Creates a new <code>AggregatePolicyProvider</code> instance, containing
 a main policy created as follows: if the
 <code>com.sun.jini.start.AggregatePolicyProvider.mainPolicyClass</code>
 security property is set, then its value is interpreted as the class
 name of the main policy provider; otherwise, a default class name of
 <code>"net.jini.security.policy.DynamicPolicyProvider"</code>
 is used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#AggregatePolicyProvider(java.security.Policy)">AggregatePolicyProvider</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>&nbsp;mainPolicy)</code>
<div class="block">Creates a new <code>AggregatePolicyProvider</code> instance with the
 given main policy, which must be non-<code>null</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../net/jini/security/SecurityContext.html" title="interface in net.jini.security">SecurityContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#getContext()">getContext</a></strong>()</code>
<div class="block">Returns a snapshot of the current security context, which can be used to
 restore the context at a later time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#getGrants(java.lang.Class, java.security.Principal[])">getGrants</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl,
         <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;principals)</code>
<div class="block">If the currently active sub-policy supports dynamic permission grants,
 delegates to the corresponding <code>getGrants</code> method of the
 currently active sub-policy to return a new array containing the set of
 permissions dynamically granted to protection domains which are
 associated with the class loader of the given class and possess at least
 the given set of principals.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#getPermissions(java.security.CodeSource)">getPermissions</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security">CodeSource</a>&nbsp;source)</code>
<div class="block">Delegates to the corresponding <code>getPermissions</code> method of the
 currently active sub-policy to return the set of permissions allowed for
 code from the specified code source, as a newly-created mutable
 <code>PermissionCollection</code> which supports heterogeneous
 permission types.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#getPermissions(java.security.ProtectionDomain)">getPermissions</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain)</code>
<div class="block">If the given protection domain is the protection domain of this class,
 then a newly-created <code>PermissionCollection</code> containing <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/AllPermission.html?is-external=true" title="class or interface in java.security"><code>AllPermission</code></a> is returned.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#grant(java.lang.Class, java.security.Principal[], java.security.Permission[])">grant</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl,
     <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;principals,
     <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]&nbsp;permissions)</code>
<div class="block">If the currently active sub-policy supports dynamic permission grants,
 delegates to the corresponding <code>grant</code> method of the
 currently active sub-policy to grant the specified permissions to all
 protection domains (including ones not yet created) which are associated
 with the class loader of the given class and possess at least the given
 set of principals.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#grantSupported()">grantSupported</a></strong>()</code>
<div class="block">Returns <code>true</code> if the currently active sub-policy supports
 dynamic grants; this is determined by delegating to the
 <code>grantSupported</code> method of the currently active sub-policy if
 it implements the <a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy"><code>DynamicPolicy</code></a> interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#implies(java.security.ProtectionDomain, java.security.Permission)">implies</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain,
       <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&nbsp;permission)</code>
<div class="block">If the given protection domain is the protection domain of this class,
 then <code>true</code> is returned.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#refresh()">refresh</a></strong>()</code>
<div class="block">Refreshes the currently active sub-policy by delegating to its
 <code>refresh</code> method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/start/AggregatePolicyProvider.html#setPolicy(java.lang.ClassLoader, java.security.Policy)">setPolicy</a></strong>(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;loader,
         <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>&nbsp;subPolicy)</code>
<div class="block">Changes sub-policy association with given class loader.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.security.Policy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.security.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getInstance(java.lang.String, java.security.Policy.Parameters)" title="class or interface in java.security">getInstance</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getInstance(java.lang.String, java.security.Policy.Parameters, java.security.Provider)" title="class or interface in java.security">getInstance</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getInstance(java.lang.String, java.security.Policy.Parameters, java.lang.String)" title="class or interface in java.security">getInstance</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getParameters()" title="class or interface in java.security">getParameters</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getPolicy()" title="class or interface in java.security">getPolicy</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getProvider()" title="class or interface in java.security">getProvider</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getType()" title="class or interface in java.security">getType</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#setPolicy(java.security.Policy)" title="class or interface in java.security">setPolicy</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AggregatePolicyProvider()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AggregatePolicyProvider</h4>
<pre>public&nbsp;AggregatePolicyProvider()
                        throws <a href="../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></pre>
<div class="block">Creates a new <code>AggregatePolicyProvider</code> instance, containing
 a main policy created as follows: if the
 <code>com.sun.jini.start.AggregatePolicyProvider.mainPolicyClass</code>
 security property is set, then its value is interpreted as the class
 name of the main policy provider; otherwise, a default class name of
 <code>"net.jini.security.policy.DynamicPolicyProvider"</code>
 is used.  The main policy is then instantiated using the no-arg public
 constructor of the named class.  If the main policy class is not found,
 is not instantiable via a public no-arg constructor, or if invocation of
 its constructor fails, then a <code>PolicyInitializationException</code>
 is thrown.
 <p>
 Note that this constructor requires the appropriate
 <code>"getProperty"</code> <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/SecurityPermission.html?is-external=true" title="class or interface in java.security"><code>SecurityPermission</code></a> to read the
 <code>com.sun.jini.start.AggregatePolicyProvider.mainPolicyClass</code>
 security property, and may require <code>"accessClassInPackage.*"</code>
 <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/RuntimePermission.html?is-external=true" title="class or interface in java.lang"><code>RuntimePermission</code></a>s, depending on the package of the main policy
 class.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></code> - if unable to construct the main
          policy</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if there is a security manager and the
          calling context does not have <code>SecurityPermission</code>
          for reading the
          <code>com.sun.jini.start.AggregatePolicyProvider.mainPolicy</code>
          security property, or if the calling context does not have
          adequate permissions to access the main policy class</dd></dl>
</li>
</ul>
<a name="AggregatePolicyProvider(java.security.Policy)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AggregatePolicyProvider</h4>
<pre>public&nbsp;AggregatePolicyProvider(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>&nbsp;mainPolicy)</pre>
<div class="block">Creates a new <code>AggregatePolicyProvider</code> instance with the
 given main policy, which must be non-<code>null</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mainPolicy</code> - main policy</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if main policy is <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPermissions(java.security.CodeSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissions</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;getPermissions(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security">CodeSource</a>&nbsp;source)</pre>
<div class="block">Delegates to the corresponding <code>getPermissions</code> method of the
 currently active sub-policy to return the set of permissions allowed for
 code from the specified code source, as a newly-created mutable
 <code>PermissionCollection</code> which supports heterogeneous
 permission types.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getPermissions(java.security.CodeSource)" title="class or interface in java.security">getPermissions</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - code source for which to look up permissions</dd>
<dt><span class="strong">Returns:</span></dt><dd>set of permissions allowed for the given code source</dd></dl>
</li>
</ul>
<a name="getPermissions(java.security.ProtectionDomain)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissions</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;getPermissions(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain)</pre>
<div class="block">If the given protection domain is the protection domain of this class,
 then a newly-created <code>PermissionCollection</code> containing <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/AllPermission.html?is-external=true" title="class or interface in java.security"><code>AllPermission</code></a> is returned.  Otherwise, delegates to the corresponding
 <code>getPermissions</code> method of the currently active sub-policy to
 return the set of permissions allowed for code in the specified
 protection domain, as a newly-created mutable
 <code>PermissionCollection</code> which supports heterogeneous
 permission types.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#getPermissions(java.security.ProtectionDomain)" title="class or interface in java.security">getPermissions</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>domain</code> - protection domain for which to look up permissions</dd>
<dt><span class="strong">Returns:</span></dt><dd>set of permissions allowed for given protection domain</dd></dl>
</li>
</ul>
<a name="implies(java.security.ProtectionDomain, java.security.Permission)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>implies</h4>
<pre>public&nbsp;boolean&nbsp;implies(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain,
              <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&nbsp;permission)</pre>
<div class="block">If the given protection domain is the protection domain of this class,
 then <code>true</code> is returned.  Otherwise, delegates to the
 <code>implies</code> method of the currently active sub-policy to
 determine if the given permission is implied by the permissions for the
 specified protection domain.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#implies(java.security.ProtectionDomain, java.security.Permission)" title="class or interface in java.security">implies</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>domain</code> - protection domain in which to check implication</dd><dd><code>permission</code> - permission to test implication of</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if permission is implied by permissions of
                given protection domain, <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="refresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh()</pre>
<div class="block">Refreshes the currently active sub-policy by delegating to its
 <code>refresh</code> method.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true#refresh()" title="class or interface in java.security">refresh</a></code>&nbsp;in class&nbsp;<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
</dl>
</li>
</ul>
<a name="setPolicy(java.lang.ClassLoader, java.security.Policy)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPolicy</h4>
<pre>public&nbsp;void&nbsp;setPolicy(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;loader,
             <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>&nbsp;subPolicy)</pre>
<div class="block">Changes sub-policy association with given class loader.  If
 <code>subPolicy</code> is non-<code>null</code>, then it is used as a
 new sub-policy to associate with the given class loader, overriding any
 previous sub-policy associated with the loader.  If
 <code>subPolicy</code> is <code>null</code>, then any previous
 association between a sub-policy and the given class loader is removed.
 If loader is <code>null</code>, then <code>subPolicy</code> is used as
 the new main policy, and must be non-<code>null</code>.  If there is a
 security manager, its <code>checkPermission</code> method is called with
 the <code>"setPolicy"</code> <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/SecurityPermission.html?is-external=true" title="class or interface in java.security"><code>SecurityPermission</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>loader</code> - class loader with which to associate sub-policy, or
                <code>null</code> if setting main policy</dd><dd><code>subPolicy</code> - sub-policy to associate with given class loader, or
          <code>null</code> if removing sub-policy association</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if both <code>loader</code> and
                <code>subPolicy</code> are <code>null</code></dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if there is a security manager and the
                calling context does not have the <code>"setPolicy"
                SecurityPermission</code></dd></dl>
</li>
</ul>
<a name="grantSupported()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grantSupported</h4>
<pre>public&nbsp;boolean&nbsp;grantSupported()</pre>
<div class="block">Returns <code>true</code> if the currently active sub-policy supports
 dynamic grants; this is determined by delegating to the
 <code>grantSupported</code> method of the currently active sub-policy if
 it implements the <a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy"><code>DynamicPolicy</code></a> interface.  If the currently
 active sub-policy does not implement <code>DynamicPolicy</code>, then
 <code>false</code> is returned.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../net/jini/security/policy/DynamicPolicy.html#grantSupported()">grantSupported</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy">DynamicPolicy</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the currently active sub-policy supports
 dynamic grants, or <code>false</code> otherwise</dd></dl>
</li>
</ul>
<a name="grant(java.lang.Class, java.security.Principal[], java.security.Permission[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grant</h4>
<pre>public&nbsp;void&nbsp;grant(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl,
         <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;principals,
         <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]&nbsp;permissions)</pre>
<div class="block">If the currently active sub-policy supports dynamic permission grants,
 delegates to the corresponding <code>grant</code> method of the
 currently active sub-policy to grant the specified permissions to all
 protection domains (including ones not yet created) which are associated
 with the class loader of the given class and possess at least the given
 set of principals.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../net/jini/security/policy/DynamicPolicy.html#grant(java.lang.Class, java.security.Principal[], java.security.Permission[])">grant</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy">DynamicPolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cl</code> - class to grant permissions to the class loader of, or
                <code>null</code> if granting across all class loaders</dd><dd><code>principals</code> - if non-<code>null</code>, minimum set of principals
                to which grants apply</dd><dd><code>permissions</code> - if non-<code>null</code>, permissions to grant</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if policy does not support
          dynamic grants, or if <code>cl</code> is non-<code>null</code>
          and belongs to a protection domain with a <code>null</code>
          class loader other than the system domain</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if a security manager is installed and the
          calling context does not have sufficient permissions to grant
          the given permissions</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if any element of the principals or
          permissions arrays is <code>null</code></dd></dl>
</li>
</ul>
<a name="getGrants(java.lang.Class, java.security.Principal[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGrants</h4>
<pre>public&nbsp;<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]&nbsp;getGrants(<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl,
                     <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;principals)</pre>
<div class="block">If the currently active sub-policy supports dynamic permission grants,
 delegates to the corresponding <code>getGrants</code> method of the
 currently active sub-policy to return a new array containing the set of
 permissions dynamically granted to protection domains which are
 associated with the class loader of the given class and possess at least
 the given set of principals.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../net/jini/security/policy/DynamicPolicy.html#getGrants(java.lang.Class, java.security.Principal[])">getGrants</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/security/policy/DynamicPolicy.html" title="interface in net.jini.security.policy">DynamicPolicy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cl</code> - class to query the permissions dynamically granted to the
          class loader of, or <code>null</code> if querying permissions
          granted across all class loaders</dd><dd><code>principals</code> - if non-<code>null</code>, principals to query
                dynamic grants for</dd>
<dt><span class="strong">Returns:</span></dt><dd>new array containing the permissions dynamically granted to the
          indicated class loader (if any) and principals</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if policy does not support
          dynamic grants, or if <code>cl</code> is non-<code>null</code>
          and belongs to a protection domain with a <code>null</code>
          class loader other than the system domain</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if any element of the principals array is
          <code>null</code></dd></dl>
</li>
</ul>
<a name="getContext()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getContext</h4>
<pre>public&nbsp;<a href="../../../../net/jini/security/SecurityContext.html" title="interface in net.jini.security">SecurityContext</a>&nbsp;getContext()</pre>
<div class="block">Returns a snapshot of the current security context, which can be used to
 restore the context at a later time.
 <p>
 The security context returned by this method contains the security
 context of the currently active sub-policy (or an equivalent of the
 default security context described in the documentation for <a href="../../../../net/jini/security/Security.html#getContext()"><code>Security.getContext</code></a>, if the currently active sub-policy does not
 implement <a href="../../../../net/jini/security/policy/SecurityContextSource.html" title="interface in net.jini.security.policy"><code>SecurityContextSource</code></a>), as well as the current context
 class loader.  The privileged action wrappers it creates restore the
 saved context class loader before delegating to the action wrappers of
 the underlying sub-policy security context.  The
 <code>getAccessControlContext</code> method of the returned security
 context delegates to the corresponding method of the sub-policy security
 context.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../net/jini/security/policy/SecurityContextSource.html#getContext()">getContext</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/security/policy/SecurityContextSource.html" title="interface in net.jini.security.policy">SecurityContextSource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>snapshot of the current security context</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AggregatePolicyProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/sun/jini/start/ActivateWrapper.ActivateDesc.html" title="class in com.sun.jini.start"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/sun/jini/start/ClassLoaderUtil.html" title="class in com.sun.jini.start"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/sun/jini/start/AggregatePolicyProvider.html" target="_top">Frames</a></li>
<li><a href="AggregatePolicyProvider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_java.security.Policy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_java.security.Policy">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="child" >Apache License, Version 2.0</a>, see the <a href="../../../../doc-files/NOTICE" target="child" >NOTICE</a> file for attributions.</small></p>
</body>
</html>
