<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Sun Nov 10 23:24:28 EST 2013 -->
<title>ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask (Apache River v2.2.2 API Documentation (internals))</title>
<meta name="date" content="2013-11-10">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask (Apache River v2.2.2 API Documentation (internals))";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.LookupTask.html" title="class in net.jini.lookup"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NotifyEventTask.html" title="class in net.jini.lookup"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html" target="_top">Frames</a></li>
<li><a href="ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.jini.lookup</div>
<h2 title="Class ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask" class="title">Class ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html" title="class in net.jini.lookup">net.jini.lookup.ServiceDiscoveryManager.CacheTask</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html" title="class in net.jini.lookup">net.jini.lookup.ServiceDiscoveryManager.ServiceIdTask</a></li>
<li>
<ul class="inheritance">
<li>net.jini.lookup.ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../com/sun/jini/thread/TaskManager.Task.html" title="interface in com.sun.jini.thread">TaskManager.Task</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.html" title="class in net.jini.lookup">ServiceDiscoveryManager.LookupCacheImpl</a></dd>
</dl>
<hr>
<br>
<pre>private final class <span class="strong">ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask</span>
extends <a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.ServiceIdTask</a></pre>
<div class="block">Task class used to asynchronously process the service state
  ("snapshot"), matching this cache's template, that was retrieved
  from the given lookup service.

  After retrieving the snapshot S, the LookupTask queues an instance
  of this task for each service referenced in S. This task determines
  if the given service is an already-discovered service (is currently
  in this cache's serviceIdMap), or is a new service. This task
  handles the service differently, depending on whether the service
  is a new or old.

  a. if the item is old, then this task will:
     - compare the given item from the snapshot to the UN-filtered
       item in given itemReg
       if(same version but attributes have changed)
           send changed event
       else if( version has changed )
           send removed event followed by added event
       else
           do nothing
     - apply the filter to the given item
       if(filter fails)
           send removed event
       else if(filter passes)
           set the filtered item in the itemReg in the map
       else if (filter is indefinite)
           discard item
           send removed event
           queue another filter attempt for later
  b. if the given item is newly discovered, then this task will:
     - create a new ServiceItemReg containing the given item
     - place the new itemReg in the serviceIdMap
     - apply the filter to the given item
       if(filter fails)
           remove the item from the map but
           send NO removed event
       else if(filter passes)
           send added event for the FILTERED item
       else if (filter is indefinite)
           discard item
           queue another filter attempt for later but
           send NO removed event</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html#matchMatchEvent">matchMatchEvent</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../net/jini/core/lookup/ServiceItem.html" title="class in net.jini.core.lookup">ServiceItem</a></code></td>
<td class="colLast"><code><strong><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html#srvcItem">srvcItem</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_net.jini.lookup.ServiceDiscoveryManager.ServiceIdTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.jini.lookup.<a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.ServiceIdTask</a></h3>
<code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html#thisTaskSid">thisTaskSid</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_net.jini.lookup.ServiceDiscoveryManager.CacheTask">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.jini.lookup.<a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.CacheTask</a></h3>
<code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#reg">reg</a>, <a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#thisTaskSeqN">thisTaskSeqN</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html#ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask(net.jini.lookup.ServiceDiscoveryManager.ProxyReg, net.jini.core.lookup.ServiceItem, boolean, long)">ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask</a></strong>(<a href="../../../net/jini/lookup/ServiceDiscoveryManager.ProxyReg.html" title="class in net.jini.lookup">ServiceDiscoveryManager.ProxyReg</a>&nbsp;reg,
                                                         <a href="../../../net/jini/core/lookup/ServiceItem.html" title="class in net.jini.core.lookup">ServiceItem</a>&nbsp;item,
                                                         boolean&nbsp;matchMatchEvent,
                                                         long&nbsp;seqN)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html#run()">run</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.jini.lookup.ServiceDiscoveryManager.ServiceIdTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.jini.lookup.<a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.ServiceIdTask</a></h3>
<code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html#getServiceID()">getServiceID</a>, <a href="../../../net/jini/lookup/ServiceDiscoveryManager.ServiceIdTask.html#runAfter(java.util.List, int)">runAfter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_net.jini.lookup.ServiceDiscoveryManager.CacheTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.jini.lookup.<a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.CacheTask</a></h3>
<code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#getProxyReg()">getProxyReg</a>, <a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#getSeqN()">getSeqN</a>, <a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#isFromProxy(net.jini.lookup.ServiceDiscoveryManager.ProxyReg)">isFromProxy</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="srvcItem">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>srvcItem</h4>
<pre>private&nbsp;<a href="../../../net/jini/core/lookup/ServiceItem.html" title="class in net.jini.core.lookup">ServiceItem</a> srvcItem</pre>
</li>
</ul>
<a name="matchMatchEvent">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>matchMatchEvent</h4>
<pre>private&nbsp;boolean matchMatchEvent</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask(net.jini.lookup.ServiceDiscoveryManager.ProxyReg, net.jini.core.lookup.ServiceItem, boolean, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask</h4>
<pre>public&nbsp;ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask(<a href="../../../net/jini/lookup/ServiceDiscoveryManager.ProxyReg.html" title="class in net.jini.lookup">ServiceDiscoveryManager.ProxyReg</a>&nbsp;reg,
                                                         <a href="../../../net/jini/core/lookup/ServiceItem.html" title="class in net.jini.core.lookup">ServiceItem</a>&nbsp;item,
                                                         boolean&nbsp;matchMatchEvent,
                                                         long&nbsp;seqN)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Runnable.html?is-external=true#run()" title="class or interface in java.lang">run</a></code>&nbsp;in interface&nbsp;<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html#run()">run</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/jini/lookup/ServiceDiscoveryManager.CacheTask.html" title="class in net.jini.lookup">ServiceDiscoveryManager.CacheTask</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.LookupTask.html" title="class in net.jini.lookup"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NotifyEventTask.html" title="class in net.jini.lookup"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/jini/lookup/ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html" target="_top">Frames</a></li>
<li><a href="ServiceDiscoveryManager.LookupCacheImpl.NewOldServiceTask.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="child" >Apache License, Version 2.0</a>, see the <a href="../../../doc-files/NOTICE" target="child" >NOTICE</a> file for attributions.</small></p>
</body>
</html>
