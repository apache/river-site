<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Sun Nov 10 23:24:24 EST 2013 -->
<title>AvailabilityRegistrationWatcher (Apache River v2.2.2 API Documentation (internals))</title>
<meta name="date" content="2013-11-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AvailabilityRegistrationWatcher (Apache River v2.2.2 API Documentation (internals))";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AvailabilityRegistrationWatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/sun/jini/outrigger/AdminProxy.html" title="class in com.sun.jini.outrigger"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.VisibilityEventSender.html" title="class in com.sun.jini.outrigger"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html" target="_top">Frames</a></li>
<li><a href="AvailabilityRegistrationWatcher.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.sun.jini.outrigger</div>
<h2 title="Class AvailabilityRegistrationWatcher" class="title">Class AvailabilityRegistrationWatcher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">com.sun.jini.outrigger.TransitionWatcher</a></li>
<li>
<ul class="inheritance">
<li>com.sun.jini.outrigger.AvailabilityRegistrationWatcher</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/sun/jini/landlord/LeasedResource.html" title="interface in com.sun.jini.landlord">LeasedResource</a>, <a href="../../../../com/sun/jini/outrigger/EventRegistrationRecord.html" title="interface in com.sun.jini.outrigger">EventRegistrationRecord</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../com/sun/jini/outrigger/StorableAvailabilityWatcher.html" title="class in com.sun.jini.outrigger">StorableAvailabilityWatcher</a>, <a href="../../../../com/sun/jini/outrigger/TransactableAvailabilityWatcher.html" title="class in com.sun.jini.outrigger">TransactableAvailabilityWatcher</a></dd>
</dl>
<hr>
<br>
<pre>abstract class <span class="strong">AvailabilityRegistrationWatcher</span>
extends <a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a>
implements <a href="../../../../com/sun/jini/outrigger/EventRegistrationRecord.html" title="interface in com.sun.jini.outrigger">EventRegistrationRecord</a></pre>
<div class="block">Subclass of <code>TransitionWatcher</code> for availability event
 registrations. Also represents the event registration itself.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.VisibilityEventSender.html" title="class in com.sun.jini.outrigger">AvailabilityRegistrationWatcher.VisibilityEventSender</a></strong></code>
<div class="block">Common implementation of <code>EventSender</code> for visibility events</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#cookie">cookie</a></strong></code>
<div class="block">The UUID that identifies this registration 
 Only for use by subclasses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#currentSeqNum">currentSeqNum</a></strong></code>
<div class="block">The current sequence number.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#eventID">eventID</a></strong></code>
<div class="block">The event ID associated with this registration
 Protected, but only for use by subclasses.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#expiration">expiration</a></strong></code>
<div class="block">The current expiration time of the registration
 Protected, but only for use by subclasses.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#handback">handback</a></strong></code>
<div class="block">The handback associated with this registration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#owners">owners</a></strong></code>
<div class="block">The <code>TemplateHandle</code>s associated with this
 watcher.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/sun/jini/outrigger/OutriggerServerImpl.html" title="class in com.sun.jini.outrigger">OutriggerServerImpl</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#server">server</a></strong></code>
<div class="block">The OutriggerServerImpl we are part of.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#visibilityOnly">visibilityOnly</a></strong></code>
<div class="block"><code>true</code> if client is interested
 in only visibility events, <code>false</code>
 otherwise.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.sun.jini.outrigger.TransitionWatcher">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.sun.jini.outrigger.<a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></h3>
<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#startOrdinal">startOrdinal</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#AvailabilityRegistrationWatcher(long, long, long)">AvailabilityRegistrationWatcher</a></strong>(long&nbsp;timestamp,
                               long&nbsp;startOrdinal,
                               long&nbsp;currentSeqNum)</code>
<div class="block">Used during log recovery to create a mostly empty
 <code>AvailabilityRegistrationWatcher</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#AvailabilityRegistrationWatcher(long, long, net.jini.id.Uuid, boolean, java.rmi.MarshalledObject, long)">AvailabilityRegistrationWatcher</a></strong>(long&nbsp;timestamp,
                               long&nbsp;startOrdinal,
                               <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;cookie,
                               boolean&nbsp;visibilityOnly,
                               <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback,
                               long&nbsp;eventID)</code>
<div class="block">Create a new <code>AvailabilityRegistrationWatcher</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#addTemplateHandle(com.sun.jini.outrigger.TemplateHandle)">addTemplateHandle</a></strong>(<a href="../../../../com/sun/jini/outrigger/TemplateHandle.html" title="class in com.sun.jini.outrigger">TemplateHandle</a>&nbsp;h)</code>
<div class="block">Associate a <code>TemplateHandle</code> with this object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#cancel()">cancel</a></strong>()</code>
<div class="block">Make sure this object will be removed from the system
 independent of the expiration time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#cleanup(com.sun.jini.outrigger.OutriggerServerImpl, boolean)">cleanup</a></strong>(<a href="../../../../com/sun/jini/outrigger/OutriggerServerImpl.html" title="class in com.sun.jini.outrigger">OutriggerServerImpl</a>&nbsp;server,
       boolean&nbsp;expired)</code>
<div class="block">Overridden by subclasses if there is any cleanup work they need
 to do as part of <code>cancel</code> or
 <code>removeIfExpired</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#doRemove(long, boolean)">doRemove</a></strong>(long&nbsp;now,
        boolean&nbsp;doIt)</code>
<div class="block">The heavy lifting of removing ourselves.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#getCookie()">getCookie</a></strong>()</code>
<div class="block">Get the unique identifier associated with this object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#getExpiration()">getExpiration</a></strong>()</code>
<div class="block">Get the expiration time of this object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) abstract <a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#getListener(net.jini.security.ProxyPreparer)">getListener</a></strong>(<a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;preparer)</code>
<div class="block">Return the remote listener associated with this 
 <code>EventRegistrationWatcher</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#process(com.sun.jini.outrigger.EntryTransition, long)">process</a></strong>(<a href="../../../../com/sun/jini/outrigger/EntryTransition.html" title="class in com.sun.jini.outrigger">EntryTransition</a>&nbsp;transition,
       long&nbsp;now)</code>
<div class="block">Process the given transition by queuing up a task with the
 notifier for event delivery.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#removeIfExpired(long)">removeIfExpired</a></strong>(long&nbsp;now)</code>
<div class="block">Remove this watcher from the system if it
 has expired.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html#setExpiration(long)">setExpiration</a></strong>(long&nbsp;newExpiration)</code>
<div class="block">Set the expiration time of this object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.sun.jini.outrigger.TransitionWatcher">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.sun.jini.outrigger.<a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></h3>
<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#compareTo(java.lang.Object)">compareTo</a>, <a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#isInterested(com.sun.jini.outrigger.EntryTransition, long)">isInterested</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="expiration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expiration</h4>
<pre>long expiration</pre>
<div class="block">The current expiration time of the registration
 Protected, but only for use by subclasses.</div>
</li>
</ul>
<a name="cookie">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cookie</h4>
<pre><a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a> cookie</pre>
<div class="block">The UUID that identifies this registration 
 Only for use by subclasses.
 Should not be changed.</div>
</li>
</ul>
<a name="handback">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handback</h4>
<pre><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a> handback</pre>
<div class="block">The handback associated with this registration.
 Only for use by subclasses.
 Should not be changed.</div>
</li>
</ul>
<a name="visibilityOnly">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>visibilityOnly</h4>
<pre>boolean visibilityOnly</pre>
<div class="block"><code>true</code> if client is interested
 in only visibility events, <code>false</code>
 otherwise.
 Only for use by subclasses.
 Should not be changed.</div>
</li>
</ul>
<a name="eventID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eventID</h4>
<pre>long eventID</pre>
<div class="block">The event ID associated with this registration
 Protected, but only for use by subclasses.
 Should not be changed.</div>
</li>
</ul>
<a name="currentSeqNum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentSeqNum</h4>
<pre>private&nbsp;long currentSeqNum</pre>
<div class="block">The current sequence number.</div>
</li>
</ul>
<a name="owners">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>owners</h4>
<pre>private&nbsp;<a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a> owners</pre>
<div class="block">The <code>TemplateHandle</code>s associated with this
 watcher.</div>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>server</h4>
<pre>private&nbsp;<a href="../../../../com/sun/jini/outrigger/OutriggerServerImpl.html" title="class in com.sun.jini.outrigger">OutriggerServerImpl</a> server</pre>
<div class="block">The OutriggerServerImpl we are part of.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AvailabilityRegistrationWatcher(long, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AvailabilityRegistrationWatcher</h4>
<pre>AvailabilityRegistrationWatcher(long&nbsp;timestamp,
                               long&nbsp;startOrdinal,
                               long&nbsp;currentSeqNum)</pre>
<div class="block">Used during log recovery to create a mostly empty
 <code>AvailabilityRegistrationWatcher</code>.  
 <p> 
 Note, we set the time stamp and tie-breaker here instead of
 getting them from the log. This means they will be inconstant
 with their value from the last VM we were in, but since they
 never leak out and events are read-only anyway this should not
 be a problem (this also allows us to keep the tie-breaker and
 time stamp in final fields).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timestamp</code> - the value that is used
        to sort <code>TransitionWatcher</code>s.</dd><dd><code>startOrdinal</code> - the highest ordinal associated
        with operations that are considered to have occurred 
        before the operation associated with this watcher.</dd><dd><code>currentSeqNum</code> - Sequence number to start with.</dd></dl>
</li>
</ul>
<a name="AvailabilityRegistrationWatcher(long, long, net.jini.id.Uuid, boolean, java.rmi.MarshalledObject, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AvailabilityRegistrationWatcher</h4>
<pre>AvailabilityRegistrationWatcher(long&nbsp;timestamp,
                               long&nbsp;startOrdinal,
                               <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;cookie,
                               boolean&nbsp;visibilityOnly,
                               <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback,
                               long&nbsp;eventID)</pre>
<div class="block">Create a new <code>AvailabilityRegistrationWatcher</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timestamp</code> - the value that is used
        to sort <code>TransitionWatcher</code>s.</dd><dd><code>startOrdinal</code> - the highest ordinal associated
        with operations that are considered to have occurred 
        before the operation associated with this watcher.</dd><dd><code>cookie</code> - The unique identifier associated
        with this watcher. Must not be <code>null</code>.</dd><dd><code>visibilityOnly</code> - pass <code>true</code> if client
        only wants visibility events</dd><dd><code>handback</code> - The handback object that
        should be sent along with event
        notifications to the the listener.</dd><dd><code>eventID</code> - The event ID for event type
        represented by this object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the <code>cookie</code>
        argument is <code>null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="process(com.sun.jini.outrigger.EntryTransition, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>void&nbsp;process(<a href="../../../../com/sun/jini/outrigger/EntryTransition.html" title="class in com.sun.jini.outrigger">EntryTransition</a>&nbsp;transition,
           long&nbsp;now)</pre>
<div class="block">Process the given transition by queuing up a task with the
 notifier for event delivery. Assumes the passed entry matches
 the template in the <code>TemplateHandle</code> associated with
 this watcher and that <code>isInterested</code> returned
 <code>true</code>. If <code>remove</code> has been called or
 the expiration time of this watcher has passed, this call
 should have no effect. This call may cause the watcher to be
 removed.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#process(com.sun.jini.outrigger.EntryTransition, long)">process</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>transition</code> - A <code>EntryTransition</code> that
              describes the transition and what
              entry is transitioning. This method
              will assume that <code>transition.getHandle</code>
              returns a non-null value.</dd><dd><code>now</code> - An estimate of the current time (not the time
              when the event occurred).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>transition</code> is 
         <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getListener(net.jini.security.ProxyPreparer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListener</h4>
<pre>abstract&nbsp;<a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a>&nbsp;getListener(<a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;preparer)
                                  throws <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a>,
                                         <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return the remote listener associated with this 
 <code>EventRegistrationWatcher</code>. Optionally
 prepare the listener if it has been recovered from
 the store and not yet re-prepared.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the remote listener associated with this 
 <code>EventRegistrationWatcher</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the listener can not
         be unmarshalled. May throw <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi"><code>RemoteException</code></a>
         if the call to the preparer does</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code> - if the listener
         needs to be unmarshalled and a necessary
         class can not be found</dd>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if the <code>prepareProxy</code>
         call does.</dd></dl>
</li>
</ul>
<a name="addTemplateHandle(com.sun.jini.outrigger.TemplateHandle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTemplateHandle</h4>
<pre>boolean&nbsp;addTemplateHandle(<a href="../../../../com/sun/jini/outrigger/TemplateHandle.html" title="class in com.sun.jini.outrigger">TemplateHandle</a>&nbsp;h)</pre>
<div class="block">Associate a <code>TemplateHandle</code> with this object.  May
 call more than once.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#addTemplateHandle(com.sun.jini.outrigger.TemplateHandle)">addTemplateHandle</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>h</code> - The <code>TemplateHandle</code> associate
          with this watcher</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the handle was successfully added,
         and <code>false</code> if the watcher has already
         been removed</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>h</code> is 
        <code>null</code></dd></dl>
</li>
</ul>
<a name="setExpiration(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiration</h4>
<pre>public&nbsp;void&nbsp;setExpiration(long&nbsp;newExpiration)</pre>
<div class="block">Set the expiration time of this object.  This method may be
 called before <code>setTemplateHandle</code> is called.
 Assumes locking is handled by the caller.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/landlord/LeasedResource.html#setExpiration(long)">setExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/sun/jini/landlord/LeasedResource.html" title="interface in com.sun.jini.landlord">LeasedResource</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>newExpiration</code> - The expiration time.</dd></dl>
</li>
</ul>
<a name="getExpiration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre>public&nbsp;long&nbsp;getExpiration()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#getExpiration()">TransitionWatcher</a></code></strong></div>
<div class="block">Get the expiration time of this object.  This method may be
 called before <code>addTemplateHandle</code> is called.
 Assumes locking is handled by the caller.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/landlord/LeasedResource.html#getExpiration()">getExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/sun/jini/landlord/LeasedResource.html" title="interface in com.sun.jini.landlord">LeasedResource</a></code></dd>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#getExpiration()">getExpiration</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The time (in milliseconds since the beginning of
         the epoch) when this watcher is no longer relevant.</dd></dl>
</li>
</ul>
<a name="getCookie()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCookie</h4>
<pre>public&nbsp;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;getCookie()</pre>
<div class="block">Get the unique identifier associated with this object.  This
 method may be called before <code>setTemplateHandle</code> is
 called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/landlord/LeasedResource.html#getCookie()">getCookie</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/sun/jini/landlord/LeasedResource.html" title="interface in com.sun.jini.landlord">LeasedResource</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>The unique identifier associated with this
 watcher.</dd></dl>
</li>
</ul>
<a name="cleanup(com.sun.jini.outrigger.OutriggerServerImpl, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>void&nbsp;cleanup(<a href="../../../../com/sun/jini/outrigger/OutriggerServerImpl.html" title="class in com.sun.jini.outrigger">OutriggerServerImpl</a>&nbsp;server,
           boolean&nbsp;expired)</pre>
<div class="block">Overridden by subclasses if there is any cleanup work they need
 to do as part of <code>cancel</code> or
 <code>removeIfExpired</code>. Called after releasing the lock
 on <code>this</code>.  Will be called at most once.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>server</code> - A reference to the top level server object.</dd><dd><code>expired</code> - <code>true</code> if being called from 
        <code>removeIfExpired</code> and false otherwise.</dd></dl>
</li>
</ul>
<a name="doRemove(long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRemove</h4>
<pre>private&nbsp;boolean&nbsp;doRemove(long&nbsp;now,
               boolean&nbsp;doIt)</pre>
<div class="block">The heavy lifting of removing ourselves.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>now</code> - The current time (or a bit earlier).</dd><dd><code>doIt</code> - If <code>true</code> ignore
             <code>now</code> and just remove <code>this</code>
             object.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if this call removed
         <code>this</code> object, <code>false</code> if
         it had already been done. Should be ignored if 
         <code>doIt</code> is <code>false</code>.</dd></dl>
</li>
</ul>
<a name="removeIfExpired(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeIfExpired</h4>
<pre>void&nbsp;removeIfExpired(long&nbsp;now)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#removeIfExpired(long)">TransitionWatcher</a></code></strong></div>
<div class="block">Remove this watcher from the system if it
 has expired. Responsible
 for calling the <code>remove</code> method
 of the associated <code>TemplateHandle</code>.
 This method can be called more than once,
 though second and subsequent calls may have no effect.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html#removeIfExpired(long)">removeIfExpired</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/sun/jini/outrigger/TransitionWatcher.html" title="class in com.sun.jini.outrigger">TransitionWatcher</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>now</code> - An estimate of the current time that must be
            less than or equal to the current time.</dd></dl>
</li>
</ul>
<a name="cancel()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;boolean&nbsp;cancel()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../com/sun/jini/outrigger/EventRegistrationRecord.html#cancel()">EventRegistrationRecord</a></code></strong></div>
<div class="block">Make sure this object will be removed from the system
 independent of the expiration time.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/sun/jini/outrigger/EventRegistrationRecord.html#cancel()">cancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/sun/jini/outrigger/EventRegistrationRecord.html" title="interface in com.sun.jini.outrigger">EventRegistrationRecord</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if this call was
 the first removal attempt.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AvailabilityRegistrationWatcher.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/sun/jini/outrigger/AdminProxy.html" title="class in com.sun.jini.outrigger"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/sun/jini/outrigger/AvailabilityRegistrationWatcher.VisibilityEventSender.html" title="class in com.sun.jini.outrigger"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/sun/jini/outrigger/AvailabilityRegistrationWatcher.html" target="_top">Frames</a></li>
<li><a href="AvailabilityRegistrationWatcher.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="child" >Apache License, Version 2.0</a>, see the <a href="../../../../doc-files/NOTICE" target="child" >NOTICE</a> file for attributions.</small></p>
</body>
</html>
